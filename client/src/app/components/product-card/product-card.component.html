<article
  class="group bg-surface-light dark:bg-surface-dark rounded-md border border-border-light dark:border-border-dark overflow-hidden hover:border-primary dark:hover:border-primary transition-all duration-300 hover:shadow-lg hover:shadow-primary/10 flex flex-col h-full">
  <div class="relative p-6 bg-white dark:bg-neutral-800 flex items-center justify-center h-64 overflow-hidden">
    <div class="absolute top-2 right-2 z-10">
      <button (click)="addProductToWishList(); wishListBtn = !wishListBtn; $event.stopPropagation()"
        class="text-gray-400 hover:text-red-500 transition-colors focus:outline-none">
        @if (wishListBtn) {
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 2.322 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z" />
        </svg>
        } @else {
        <span class="material-icons">favorite_border</span>
        }
      </button>
    </div>

    <a [routerLink]="'/product-overview/' + product._id" class="w-full h-full flex justify-center items-center">
      <img
        class="max-h-full max-w-full object-contain transform group-hover:scale-110 transition-transform duration-500"
        [src]="product.images[0]" [alt]="product.name" />
    </a>
  </div>

  <div class="p-4 flex flex-col flex-1">
    <a [routerLink]="'/product-overview/' + product._id">
      <h3
        class="font-display font-bold text-lg text-gray-800 dark:text-white mb-1 leading-tight line-clamp-2 hover:text-primary transition-colors">
        {{ product.name }}
      </h3>
    </a>

    <div class="mt-auto pt-4">
      <p class="text-2xl font-bold text-primary mb-4">{{ product.price | currency:'$':'symbol':'3.0-0' }}</p>

      <button (click)="addToCart()"
        class="w-full bg-primary hover:bg-primary-dark text-white font-bold py-2.5 px-4 rounded-sm uppercase text-sm tracking-wider transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-[0_0_15px_rgba(255,102,0,0.4)]">
        <span class="material-icons text-sm">shopping_cart</span>
        AÃ±adir al carrito
      </button>
    </div>
  </div>
</article>
@if (isLoading) {
<div class="container mx-auto p-6 min-h-[70vh] min-w-[50vw] max-w-[90vw] max-h-[90vh]">
  <app-loading-spinner></app-loading-spinner>
</div>
} @else {
<div class="container mx-auto p-6 min-h-[70vh] min-w-[50vw] max-w-[90vw] max-h-[90vh]">
  <h1 class="text-2xl font-bold mb-4">Producto</h1>
  <form [formGroup]="productForm" class="bg-white p-6 rounded-lg shadow-md">
    <!-- Name -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="name">Nombre</label>
      <input formControlName="name"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="name" type="text" placeholder="Introduzca el nombre del producto" required>
    </div>
    <!-- Price -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="price">Precio</label>
      <input formControlName="price"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="price" type="number" min="0" placeholder="Introduzca el precio del producto" required>
    </div>
    <!-- Description -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="desc">Descripción</label>
      <textarea formControlName="desc"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="desc" rows="3" placeholder="Introduzca la descripción del producto">desc</textarea>
    </div>
    <!-- Stock -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="stock">Existencias</label>
      <input formControlName="stock"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="stock" type="number" min="0" placeholder="Ingresar stock de producto" required>
    </div>
    <!-- Images -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="images">Imágenes</label>
      <input (change)="onFileChange($event)" formControlName="images"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="images" type="file" multiple required>
    </div>
    <!-- Brand -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="brand">Marca</label>
      <select formControlName="brand"
        class="shadow appearance-none border rounded w-full py-2 px-3 bg-white text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="brand" required>
        <option value="Revo">Revo</option>
        <option value="Cassarella">Cassarella</option>
        <option value="Imbra">Imbra</option>
        <option value="Vitrix">Vitrix</option>
        <option value="Kanuni">Kanuni</option>
        <option value="Gpp">Gpp</option>
        <option value="EBC">EBC</option>
        <option value="MOBIL">MOBIL</option>
        <option value="CRC">CRC</option>
        <option value="DARROW">DARROW</option>
        <option value="GXPARTS">GX PARTS</option>
        <option value="VARROC">VARROC</option>
        <option value="CASTROL">CASTROL</option>
        <option value="ENDURANCE">ENDURANCE</option>
        <option value="MOTUL">MOTUL</option>
        <option value="REPSOL">REPSOL</option>
        <option value="ECSTAR">ECSTAR</option>
        <option value="YAMALUBE">YAMALUBE</option>
        <option value="DTS">DTS-I OIL</option>
        <option value="SHELL">SHELL ADVANCE</option>
        <option value="KROSS">KROSS</option>
        <option value="SPEED">SPEED HARD</option>
        <option value="DID">D.I.D</option>
        <option value="CHAMPION">CHAMPION</option>
        <option value="EVERESTT">EVERESTT</option>
        <option value="UNO MINDA">UNO MINDA</option>
        <option value="KONTROL">KONTROL</option>
        <option value="KOK RIDERS">KOK RIDERS</option>
        <option value="CHOHO">CHOHO</option>
        <option value="FERODO">FERODO</option>
        <option value="TERPEL">TERPEL</option>
        <option value="MAD">MAD</option>
        <option value="ELPO">ELPO</option>
        <option value="ELPO">SUPRAPARTS</option>
        <option value="YAHOSUKA">YAHOSUKA</option>
        <option value="KOYO">KOYO</option>
        <option value="NTN">NTN</option>
        <option value="NACHI">NACHI</option>
        <option value="MAPACHE">MAPACHE</option>
        <option value="ULTRA">ULTRA</option>
        <option value="JDL">JDL</option>
        <option value="RIZOMA">RIZOMA</option>
        <option value="GENUNE">GENUNE PARTS</option>
        <option value="NARVA">NARVA</option>
        <option value="OSRAM">OSRAM</option>
        <option value="PHILIPS">PHILIPS</option>
        <option value="SPARTAN">SPARTAN</option>
      </select>
    </div>

    <!-- Category -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="category">Categoría</label>
      
      <mat-select formControlName="category"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="category">
        @for (food of listCategories; track food) {
        <mat-option [value]="food.name">{{food.name}}</mat-option>
        }
      </mat-select>
    </div>
    <!-- Vehicle brand -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="category">Marca Vehicular</label>
      <mat-select formControlName="Marcavehicular"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="Vehiclebrand" (selectionChange)="filtrarReferencias($event)">
        @for (food of list; track food) {
        <mat-option [value]="food.name">{{food.name}}</mat-option>
        }
      </mat-select>
    </div>
    <!-- Vehicle brand -->
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="category">Referencia Vehiculo</label>
      <mat-select formControlName="ReferenciaVehiculo"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="Vehiclereference" multiple>
        @for (food of listReferencia; track food) {
        <mat-option [value]="food.name">{{food.name}}</mat-option>
        }
      </mat-select>
    </div>
    <!-- Submit Button -->
    <div class="flex items-center justify-end">
      <button (click)="onSubmit()"
        class="hover:bg-blue-700 bg-blue-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
        type="submit">
        Guardar producto
      </button>
    </div>
  </form>
</div>
}